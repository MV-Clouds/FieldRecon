<aura:component
    access="global"
    controller="TimesheetDailyController"
    implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction"
    extends="c:lib_base"
>
    <aura:attribute name="UserId" type="String" />
    <aura:attribute name="Spinner" type="boolean" default="true" />
    <aura:attribute name="JobId" type="String" />
    <aura:attribute name="UserIdList" type="List" />
    <aura:attribute name="StartDate" type="Date" />
    <aura:attribute name="recordId" type="String" />
    <aura:attribute name="EndDate" type="Date" />
    <aura:attribute name="ButtonType" type="String" />
    <aura:attribute name="selectedOwner" type="List" />
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:attribute
        name="weekdayMap"
        type="Map"
        default="{ 0: 'Sunday', 1: 'Monday', 2: 'Tuesday', 3: 'Wednesday', 4: 'Thursday', 5: 'Friday', 6: 'Saturday'}"
    />
    <aura:attribute
        name="weekdayMapReverse"
        type="Map"
        default="{ 'Sunday': 0, 'Monday' : 1, 'Tuesday' : 2,  'Wednesday' : 3,  'Thursday' : 4,  'Friday' : 5,  'Saturday' : 6}"
    />

    <lightning:card>
        <div>
            <table>
                <aura:renderIf isTrue="{!v.Spinner}">
                    <lightning:spinner alternativeText="Loading" variant="brand" size="medium" />
                </aura:renderIf>
                <tr>
                    <td>
                        <c:LookupField
                            objectAPIName="User"
                            selectedRecordId="{!v.selectedOwner}"
                            fieldLabel="User"
                            fieldAPIName="Name"
                            placeholder="User search"
                            aura:id="selectedUser"
                        />
                    </td>
                </tr>
                <tr>
                    <td>
                        <lightning:input
                            type="date"
                            name="Start"
                            label="Start Date Filter"
                            value="{!v.StartDate}"
                            onchange="{!c.handleClick}"
                        />
                    </td>
                </tr>
                <tr>
                    <td>
                        <lightning:input
                            type="date"
                            name="End"
                            label="End Date Filter"
                            disabled="true"
                            value="{!v.EndDate}"
                        />
                    </td>
                </tr>
                <br />
                <lightning:button variant="brand" onclick="{!c.createPDF}" class="slds-float_right"
                    >Generate PDF</lightning:button
                >
            </table>
        </div>
    </lightning:card>
</aura:component>