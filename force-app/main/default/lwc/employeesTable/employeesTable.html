<template>
    <template if:true={isLoading} class="slds-is-relative" >
        <lightning-spinner
            alternative-text="Loading..." variant="brand">
        </lightning-spinner>
    </template>
    <div class = "slds-grid slds-wrap slds-scrollable page " style="overflow: overlay;" >
<!-- <div class = "slds-col slds-size_1-of-12 slds-m-bottom_medium"></div> -->
        <div class = "slds-col slds-size_12-of-12 slds-m-bottom_medium">
            <template if:true={contactsToDisplaySize}>
                <c-custom-datatable columns={columns}
                                    key-field="recordId"
                                    data={contactsToDisplay}
                                    hide-checkbox-column="true"
                                    class="slds-table_bordered slds-table_col-bordered slds-table_striped"
                                    onpicklistchange={setPicklistValues}
                ></c-custom-datatable>
            </template>
        </div>
<!--<div class = "slds-col slds-size_1-of-12 slds-m-bottom_medium"></div> -->
        <template if:true={contactsSize}>
        <div class="slds-align_absolute-center slds-p-around_small">
            <template if:true={hasDataToSave}>
                <lightning-button variant="brand" label="Update Users" icon-name="standard:user_role" class="slds-m-left_x-small" onclick={updateUsers}></lightning-button>
            </template>
            <template if:false={hasDataToSave}>
                <lightning-button variant="brand" label="Update Users" icon-name="standard:user_role" disabled class="slds-m-left_x-small" onclick={updateUsers}></lightning-button>
            </template>
        </div>
        <div class = "slds-col slds-size_8-of-8 slds-m-bottom_medium">
                <c-custom-paginator
                                    page-size={pageSize}
                                    all-record-ids={userRecordsIds}
                                    current-page={currentPage}
                                    onpagechanged={onPageChanged}
                ></c-custom-paginator>
        </div>
        </template>
        <template if:false={contactsSize}>
            <div
            class="slds-align_absolute-center slds-text-heading_medium slds-text-color_weak slds-var-p-around_medium"
            style = "height: 50vh;"
          >
          It's empty in here!
          </div>
        </template>
    </div>
</template>